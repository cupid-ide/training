This Matlab code is authored by Robin Hogan and is copied here merely for reference and convenience.  
This code is the inspiration for the Fortran shallow water model.

http://www.met.reading.ac.uk/~swrhgnrj/shallow_water_model/